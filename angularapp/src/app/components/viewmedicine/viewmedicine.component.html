<!-- <div class="container mt-5">
  <h1 style="text-align: center;">Medicines</h1><br>
  <input class="form-control mb-3 highlight-search" [(ngModel)]="searchQuery" (input)="filterMedicine()"
    placeholder="Search for medicines...">
  <table class="table table-bordered table-hover mt-5 text-center table-striped">
    <thead class="thead-dark">
      <tr>
        <th>S.No</th>
        <th>Medicine Name</th>
        <th>Brand</th>
        <th>Category</th>
        <th>Description</th>
        <th>Quantity</th>
        <th>Unit</th>
        <th>Price Per Unit</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let medicine of medicines; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ medicine.medicineName }}</td>
        <td>{{ medicine.brand }}</td>
        <td>{{ medicine.category }}</td>
        <td>{{ medicine.description }}</td>
        <td>{{ medicine.quantity }}</td>
        <td>{{ medicine.unit }}</td>
        <td>{{ medicine.pricePerUnit }}</td>
        <td>
          <button class="btn1 btn-primary btn-sm" (click)="editMedicine(medicine.medicineId)">Edit</button>
          <button class="btn1 btn-danger btn-sm"
            (click)="confirmDelete(medicine.medicineId,deleteModal)">Delete</button>
          <button class="btn1 btn-info btn-sm" (click)="openImageModal(imageModal,medicine.medicineId)">Show
            Image</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #imageModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Image</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <img [src]="imageUrl" alt="Medicine Image">
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.dismiss('Cancel click')">Close</button>
  </div>
</ng-template>

<ng-template #deleteModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Delete</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Do you want to delete?</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close('delete')">Delete</button>
    <button type="button" class="btn btn-danger" (click)="modal.dismiss('Cancel click')">Cancel</button>
  </div>
</ng-template> -->



<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4 text-center text-white">MEDICINES</h1>
  <div class="mb-4">
    <input type="text" class="w-full p-2 border rounded" placeholder="Search..." [(ngModel)]="searchQuery"
      (input)="filterMedicine()" style="background-color: #e2fcc5;" />
  </div>
  <table class="min-w-full bg-white text-center">
    <thead>
      <tr class="bg-gradient-to-r from-green-900 via-green-800 to-gray-800 text-white">
        <th class="py-2 px-1 text-sm border-b">S.No</th>
        <th class="py-2 px-1 text-sm border-b">Medicine Name</th>
        <th class="py-2 px-1 text-sm border-b">Brand</th>
        <th class="py-2 px-1 text-sm border-b">Category</th>
        <th class="py-2 px-1 text-sm border-b">Description</th>
        <th class="py-2 px-1 text-sm border-b">Quantity</th>
        <th class="py-2 px-1 text-sm border-b">Unit</th>
        <th class="py-2 px-1 text-sm border-b">Price Per Unit</th>
        <th class="py-2 px-1 text-sm border-b">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let medicine of medicines, let i=index" class="hover:bg-gray-100">
        <td class="py-1 px-1 text-sm border-b">{{ i + 1 }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.medicineName }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.brand }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.category }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.description }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.quantity }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.unit }}</td>
        <td class="py-1 px-1 text-sm border-b">{{ medicine.pricePerUnit }}</td>
        <td class="py-1 px-1 text-sm border-b items-center">
          <button class="bg-blue-500 text-white text-sm px-1 py-1 rounded mr-1 hover:bg-blue-700"
            (click)="editMedicine(medicine.medicineId)">Edit</button>
          <button class="bg-red-500 text-white text-sm px-1 py-1 rounded mr-1 hover:bg-red-700"
            (click)="openDeleteModel(medicine.medicineId)">Delete</button>
          <button class="bg-green-500 text-white text-sm px-1 py-1 rounded hover:bg-green-700"
            (click)="openImageModel(medicine.medicineId)">Show Image</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50" *ngIf="isDeleteVisible">
  <div class="bg-white rounded-lg shadow-lg p-6 w-1/3">
    <h2 class="text-xl font-semibold mb-4">Confirm Delete</h2>
    <p class="mb-4">Are you sure you want to delete this feed?</p>
    <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-700"
      (click)="closeDeleteModal()">Cancel</button>
    <button type="button" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700"
      (click)="deleteMedicine()">Delete</button>
  </div>
</div>

<div class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50" *ngIf="isImageVisible">
  <div class="bg-white rounded-lg shadow-lg p-6">
    <h2 class="text-xl font-semibold mb-4">Cover Image</h2>
    <div class="p-4 flex items-center justify-center">
      <img [src]="imageUrl" alt="Image Preview" class="max-w-full h-auto rounded-lg">
    </div>
    <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-700"
      (click)="closeImageModal()">Cancel</button>
  </div>
</div>